// list from https://m.imdb.com/list/ls076341153/
const linkElements = document.querySelectorAll(".media + .list-description"); // nodelist
const linkUrls = [];
linkElements.forEach((linkElement) => {
  linkUrls.push(linkElement.innerText);
});
const videoIds = linkUrls.map((l) => l.replace(/[^0-9]+/, ""));

const ids = [
  "106786265",
  "120559169",
  "108550980",
  "39329246",
  "89501438",
  "6217493",
  "3116167",
  "79592422",
  "32397612",
  "77729428",
  "20793651",
  "73172036",
  "103389185",
  "108550982",
  "41791991",
  "107395294",
  "71055478",
  "57698917",
  "69529045",
  "20744859",
  "84910153",
  "59230893",
  "81512787",
  "73400003",
  "107669466",
  "107963554",
  "5177243",
  "61412736",
  "86295452",
  "29573040",
  "4949853",
  "71695621",
  "10470386",
  "90766555",
  "60775699",
  "25239728",
  "62413420",
  "33749370",
  "5442611",
  "88405888",
  "106272915",
  "81341794",
  "100524765",
  "63058280",
  "62913057",
  "48357772",
  "33942674",
  "17213168",
  "106124516",
  "3274358",
  "46673985",
  "37041080",
  "47113518",
  "70976988",
  "73537360",
  "42023192",
  "69252831",
  "39739082",
  "68866825",
  "48717374",
  "4870899",
  "31756677",
  "55903596",
  "48011287",
  "51704432",
  "116811909",
  "80883637",
  "92471917",
  "27256955",
  "86542938",
  "19475041",
  "8172551",
  "57315645",
  "32720505",
  "8348656",
  "8838244",
  "15550222",
  "13570034",
  "41369908",
  "40509417",
  "17535548",
  "42819257",
  "116451815",
  "112360862",
  "107535313",
  "54144270",
  "59785024",
  "86528386",
  "101179846",
  "101882592",
  "63003515",
  "18278614",
  "27051493",
  "15386924",
  "75007385",
  "81875587",
  "5950730",
  "68039498",
  "9442501",
  "39093426",
];

const delay = (ms) => new Promise((res) => setTimeout(res, ms));

// (async function () {
//   for (id of ids) {
//     await fetch(`https://api.vimeo.com/me/watchlater/${id}`, {
//       method: "put",
//       headers: {
//         Authorization: "bearer a174f75ea4a4072d243d3fa3309f588b",
//       },
//     });
//     await delay(3000);
//   }
// })();

(async function () {
  for (id of ids) {
    await fetch(`https://api.vimeo.com/me/albums/10378050/videos/${id}`, {
      method: "put",
      headers: {
        Authorization: "bearer a174f75ea4a4072d243d3fa3309f588b",
      },
    });
    await delay(3000);
  }
})();
